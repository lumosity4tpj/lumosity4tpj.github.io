<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.5.0',
    exturl: true,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"flat"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="11. 盛最多水的容器12345678910111213class Solution:    def maxArea(self, height: List[int]) -&amp;gt; int:        n = len(height)        l,r = 0,n-1        res = 0        while l&amp;lt;r:            temp = min(heigh">
<meta name="keywords" content="求职">
<meta property="og:type" content="article">
<meta property="og:title" content="编程-其它">
<meta property="og:url" content="https:&#x2F;&#x2F;lumosity4tpj.github.io&#x2F;2020&#x2F;09&#x2F;08&#x2F;%E6%B1%82%E8%81%8C-%E7%BC%96%E7%A8%8B-%E5%85%B6%E5%AE%83&#x2F;index.html">
<meta property="og:site_name" content="拥">
<meta property="og:description" content="11. 盛最多水的容器12345678910111213class Solution:    def maxArea(self, height: List[int]) -&amp;gt; int:        n = len(height)        l,r = 0,n-1        res = 0        while l&amp;lt;r:            temp = min(heigh">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-09-08T12:45:02.183Z">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://lumosity4tpj.github.io/2020/09/08/%E6%B1%82%E8%81%8C-%E7%BC%96%E7%A8%8B-%E5%85%B6%E5%AE%83/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>
#needsharebutton-postbottom {
  cursor: pointer;
  height: 26px;
  margin-top: 10px;
  position: relative;
}
#needsharebutton-postbottom .btn {
  border: 1px solid $btn-default-border-color;
  border-radius: 3px;
  display: initial;
  padding: 1px 4px;
}
</style>
  <title>编程-其它 | 拥</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?c4ba07c82d0814584b2781aabe2701b3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">拥</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">2</span></a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">1</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">9</span></a>

  </li>
        <li class="menu-item menu-item-photo">

    <a href="/photo/" rel="section"><i class="fa fa-fw fa-image"></i>相册</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lumosity4tpj.github.io/2020/09/08/%E6%B1%82%E8%81%8C-%E7%BC%96%E7%A8%8B-%E5%85%B6%E5%AE%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="lumosity">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="拥">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          编程-其它
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-09-08 20:27:09 / 修改时间：20:45:02" itemprop="dateCreated datePublished" datetime="2020-09-08T20:27:09+08:00">2020-09-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index">
                    <span itemprop="name">编程</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>24k</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h5 id="11-盛最多水的容器"><a href="#11-盛最多水的容器" class="headerlink" title="11. 盛最多水的容器"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvY29udGFpbmVyLXdpdGgtbW9zdC13YXRlci8=" title="https://leetcode-cn.com/problems/container-with-most-water/">11. 盛最多水的容器<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxArea</span><span class="params">(self, height: List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(height)</span><br><span class="line">        l,r = <span class="number">0</span>,n<span class="number">-1</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> l&lt;r:</span><br><span class="line">            temp = min(height[l],height[r])</span><br><span class="line">            res = max(res,temp*(r-l))</span><br><span class="line">            <span class="keyword">if</span> temp==height[l]:</span><br><span class="line">                l += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                r -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h3 id="子矩阵和相关"><a href="#子矩阵和相关" class="headerlink" title="*子矩阵和相关"></a>*子矩阵和相关</h3><p>最后子矩阵一定是在某两行之间的，假设子矩阵在第 i 行和第 j 行之间，那么我们可以枚举所有1&lt;=i&lt;=j&lt;=m,表示最终子矩阵选取的行范围。将每一列第 i 行到第 j 行之间的和求出来，形成一个数组 c，于是一个第 i 行到第 j 行之间的最大子矩阵和对应于这个和数组 c 的最大子段和。</p>
<a id="more"></a>

<h5 id="363-矩形区域不超过-K-的最大数值和"><a href="#363-矩形区域不超过-K-的最大数值和" class="headerlink" title="363. 矩形区域不超过 K 的最大数值和"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbWF4LXN1bS1vZi1yZWN0YW5nbGUtbm8tbGFyZ2VyLXRoYW4tay8=" title="https://leetcode-cn.com/problems/max-sum-of-rectangle-no-larger-than-k/">363. 矩形区域不超过 K 的最大数值和<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxSumSubmatrix</span><span class="params">(self, matrix: List[List[int]], k: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># import bisect</span></span><br><span class="line">        <span class="comment"># m,n = len(matrix),len(matrix[0])</span></span><br><span class="line">        <span class="comment"># res = float('-inf')</span></span><br><span class="line">        <span class="comment"># # 固定左右边界</span></span><br><span class="line">        <span class="comment"># for l in range(n):</span></span><br><span class="line">        <span class="comment">#     sums = [0]*m</span></span><br><span class="line">        <span class="comment">#     for r in range(l,n):</span></span><br><span class="line">        <span class="comment">#         # 每次更新该行到right边界的前缀和</span></span><br><span class="line">        <span class="comment">#         for j in range(m):</span></span><br><span class="line">        <span class="comment">#             sums[j] += matrix[j][r]</span></span><br><span class="line">        <span class="comment">#         cur = 0</span></span><br><span class="line">        <span class="comment">#         arr = [0]</span></span><br><span class="line">        <span class="comment">#         # 固定了左右边界，此时判上下边界</span></span><br><span class="line">        <span class="comment">#         for i in sums:</span></span><br><span class="line">        <span class="comment">#             cur += i</span></span><br><span class="line">        <span class="comment">#             # 每次加入小的面积，再通过大的面积查找小的面积的位置</span></span><br><span class="line">        <span class="comment">#             # 大-小&lt;=k ==&gt; 小&gt;=大-k 所以loc需要&gt;=len(arr)</span></span><br><span class="line">        <span class="comment">#             loc = bisect.bisect_left(arr,cur-k)</span></span><br><span class="line">        <span class="comment">#             if loc&lt;len(arr):</span></span><br><span class="line">        <span class="comment">#                 res = max(res,cur-arr[loc])</span></span><br><span class="line">        <span class="comment">#             bisect.insort(arr,cur)</span></span><br><span class="line">        <span class="comment"># return res</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># # 暴力超时</span></span><br><span class="line">        <span class="comment"># m,n = len(matrix),len(matrix[0])</span></span><br><span class="line">        <span class="comment"># res = float('-inf')</span></span><br><span class="line">        <span class="comment"># # 固定左右边界</span></span><br><span class="line">        <span class="comment"># for l in range(n):</span></span><br><span class="line">        <span class="comment">#     sums = [0]*m</span></span><br><span class="line">        <span class="comment">#     for r in range(l,n):</span></span><br><span class="line">        <span class="comment">#         # 每次更新该行到right边界的前缀和</span></span><br><span class="line">        <span class="comment">#         for j in range(m):</span></span><br><span class="line">        <span class="comment">#             sums[j] += matrix[j][r]</span></span><br><span class="line">        <span class="comment">#         # 固定了左右边界，此时判上下边界</span></span><br><span class="line">        <span class="comment">#         maxsum = float('-inf')</span></span><br><span class="line">        <span class="comment">#         for i in range(m):</span></span><br><span class="line">        <span class="comment">#             cur = 0</span></span><br><span class="line">        <span class="comment">#             for j in range(i,m):</span></span><br><span class="line">        <span class="comment">#                 cur += sums[j]</span></span><br><span class="line">        <span class="comment">#                 if cur&lt;=k:</span></span><br><span class="line">        <span class="comment">#                     maxsum = max(maxsum,cur)</span></span><br><span class="line">        <span class="comment">#         res = max(res,maxsum)</span></span><br><span class="line">        <span class="comment"># return res</span></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 暴力优化</span></span><br><span class="line">        m,n = len(matrix),len(matrix[<span class="number">0</span>])</span><br><span class="line">        res = float(<span class="string">'-inf'</span>)</span><br><span class="line">        <span class="comment"># 固定左右边界</span></span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> range(n):</span><br><span class="line">            sums = [<span class="number">0</span>]*m</span><br><span class="line">            <span class="keyword">for</span> r <span class="keyword">in</span> range(l,n):</span><br><span class="line">                <span class="comment"># 每次更新该行到right边界的前缀和</span></span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(m):</span><br><span class="line">                    sums[j] += matrix[j][r]</span><br><span class="line">                <span class="comment"># 固定了左右边界，此时判上下边界</span></span><br><span class="line">                <span class="comment"># 用53.的优化</span></span><br><span class="line">                maxsum = sums[<span class="number">0</span>]</span><br><span class="line">                cur = sums[<span class="number">0</span>]</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,m):</span><br><span class="line">                    <span class="keyword">if</span> cur&lt;<span class="number">0</span>:</span><br><span class="line">                        cur = sums[i]</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        cur += sums[i]</span><br><span class="line">                    maxsum = max(maxsum,cur)</span><br><span class="line">                <span class="comment"># 如果计算出来超过了k再暴力求解</span></span><br><span class="line">                <span class="keyword">if</span> maxsum&gt;k:</span><br><span class="line">                    maxsum = float(<span class="string">'-inf'</span>)</span><br><span class="line">                    <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">                        cur = <span class="number">0</span></span><br><span class="line">                        <span class="keyword">for</span> j <span class="keyword">in</span> range(i,m):</span><br><span class="line">                            cur += sums[j]</span><br><span class="line">                            <span class="keyword">if</span> cur&lt;=k:</span><br><span class="line">                                maxsum = max(maxsum,cur)</span><br><span class="line">                res = max(res,maxsum)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h5 id="面试题-17-24-最大子矩阵"><a href="#面试题-17-24-最大子矩阵" class="headerlink" title="面试题 17.24. 最大子矩阵"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbWF4LXN1Ym1hdHJpeC1sY2NpLw==" title="https://leetcode-cn.com/problems/max-submatrix-lcci/">面试题 17.24. 最大子矩阵<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMaxMatrix</span><span class="params">(self, matrix: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="comment"># m,n = len(matrix),len(matrix[0])</span></span><br><span class="line">        <span class="comment"># ans = []</span></span><br><span class="line">        <span class="comment"># res = float('-inf')</span></span><br><span class="line">        <span class="comment"># for t in range(m):</span></span><br><span class="line">        <span class="comment">#     sums = [0]*n</span></span><br><span class="line">        <span class="comment">#     for b in range(t,m):</span></span><br><span class="line">        <span class="comment">#         for k in range(n):</span></span><br><span class="line">        <span class="comment">#             sums[k] += matrix[b][k]</span></span><br><span class="line">        <span class="comment">#         for i in range(n):</span></span><br><span class="line">        <span class="comment">#             cur = 0</span></span><br><span class="line">        <span class="comment">#             for j in range(i,n):</span></span><br><span class="line">        <span class="comment">#                 cur += sums[j]</span></span><br><span class="line">        <span class="comment">#                 if cur&gt;res:</span></span><br><span class="line">        <span class="comment">#                     res = cur</span></span><br><span class="line">        <span class="comment">#                     ans = [t,i,b,j]</span></span><br><span class="line">        <span class="comment"># return ans</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        m,n = len(matrix),len(matrix[<span class="number">0</span>])</span><br><span class="line">        ans = []</span><br><span class="line">        res = float(<span class="string">'-inf'</span>)</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(m):</span><br><span class="line">            sums = [<span class="number">0</span>]*n</span><br><span class="line">            <span class="keyword">for</span> b <span class="keyword">in</span> range(t,m):</span><br><span class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> range(n):</span><br><span class="line">                    sums[k] += matrix[b][k]</span><br><span class="line">                cur = sums[<span class="number">0</span>]</span><br><span class="line">                temp = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">                maxsum = sums[<span class="number">0</span>]</span><br><span class="line">                l = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n):</span><br><span class="line">                    <span class="keyword">if</span> cur&lt;<span class="number">0</span>:</span><br><span class="line">                        l = i</span><br><span class="line">                        cur = sums[i]</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        cur += sums[i]</span><br><span class="line">                    <span class="keyword">if</span> cur&gt;maxsum:</span><br><span class="line">                        maxsum = cur</span><br><span class="line">                        temp = [t,l,b,i]</span><br><span class="line">                <span class="keyword">if</span> maxsum&gt;res:</span><br><span class="line">                    res = maxsum</span><br><span class="line">                    ans = temp</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>

<h5 id="440-字典序的第K小数字"><a href="#440-字典序的第K小数字" class="headerlink" title="**440. 字典序的第K小数字"></a>**<span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvay10aC1zbWFsbGVzdC1pbi1sZXhpY29ncmFwaGljYWwtb3JkZXIv" title="https://leetcode-cn.com/problems/k-th-smallest-in-lexicographical-order/">440. 字典序的第K小数字<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findKthNumber</span><span class="params">(self, n: int, k: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># 在小于n的情况下计算a,b之间的步数</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">getcount</span><span class="params">(n,a,b)</span>:</span></span><br><span class="line">            step = <span class="number">0</span></span><br><span class="line">            <span class="comment"># 一直往下计算每一层的步数</span></span><br><span class="line">            <span class="keyword">while</span> a&lt;=n:</span><br><span class="line">                step += min(b,n+<span class="number">1</span>)-a</span><br><span class="line">                a *= <span class="number">10</span></span><br><span class="line">                b *= <span class="number">10</span></span><br><span class="line">            <span class="keyword">return</span> step</span><br><span class="line">        i = <span class="number">1</span></span><br><span class="line">        k -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> k&gt;<span class="number">0</span>:</span><br><span class="line">            step = getcount(n,i,i+<span class="number">1</span>)</span><br><span class="line">            <span class="comment"># 在以i开头的区间，向下缩小范围，并减去i这一步</span></span><br><span class="line">            <span class="keyword">if</span> k&lt;step:</span><br><span class="line">                k -= <span class="number">1</span></span><br><span class="line">                i *= <span class="number">10</span></span><br><span class="line">            <span class="comment">#  否则在后面的区间，向右搜索，并减去区间的步数</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                k -= step</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> i</span><br></pre></td></tr></table></figure>

<h5 id="编程题-多多的电子字典"><a href="#编程题-多多的电子字典" class="headerlink" title="[编程题]多多的电子字典"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL3F1ZXN0aW9uVGVybWluYWwvMDYxZDQxOWM3Y2VhNGM2NThlZTA0ODQ2NTRiMTFjM2U=" title="https://www.nowcoder.com/questionTerminal/061d419c7cea4c658ee0484654b11c3e">[编程题]多多的电子字典<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"><span class="meta">@lru_cache(None)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getcount</span><span class="params">(m,n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> m==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> n </span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> m</span><br><span class="line">    <span class="keyword">return</span> getcount(m<span class="number">-1</span>,n) + getcount(m,n<span class="number">-1</span>) + <span class="number">2</span></span><br><span class="line"></span><br><span class="line">n,m,k = map(int,input().split())</span><br><span class="line">cur = <span class="string">'a'</span></span><br><span class="line">k -= <span class="number">1</span></span><br><span class="line">n -= <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> k <span class="keyword">and</span> (n <span class="keyword">or</span> m):</span><br><span class="line">    step = getcount(m,n) + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> k&lt;step:</span><br><span class="line">        k -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> n:</span><br><span class="line">            cur += <span class="string">'a'</span></span><br><span class="line">            n -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            cur += <span class="string">'b'</span></span><br><span class="line">            m -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        k -= step</span><br><span class="line">        cur = cur[:<span class="number">-1</span>]+<span class="string">'b'</span></span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line">        m -= <span class="number">1</span></span><br><span class="line">print(cur)</span><br></pre></td></tr></table></figure>

<h5 id="编程题-骰子期望"><a href="#编程题-骰子期望" class="headerlink" title="[编程题]骰子期望"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL3F1ZXN0aW9uVGVybWluYWwvODZlZjBkNTA0MjkzNGVmNzgxOTAzNTc5NDM3N2E1MDc=" title="https://www.nowcoder.com/questionTerminal/86ef0d5042934ef7819035794377a507">[编程题]骰子期望<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">n = int(input())</span><br><span class="line">X = [<span class="number">0</span>]+list(map(int,input().split()))</span><br><span class="line">MAX = max(X)</span><br><span class="line">pre = <span class="number">0</span></span><br><span class="line">res = <span class="number">0</span></span><br><span class="line"><span class="comment"># 可能的取值</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,MAX+<span class="number">1</span>):</span><br><span class="line">    cur = <span class="number">1.</span></span><br><span class="line">    <span class="comment"># 枚举色子</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">        <span class="comment"># 每个色子可能&lt;=i的概率</span></span><br><span class="line">        cur *= min(i,X[j])/X[j] </span><br><span class="line">    <span class="comment"># 由所有&lt;=i的情况 - 所有&lt;=i-1的情况 得到=i的所有情况</span></span><br><span class="line">    res += (cur-pre)*i </span><br><span class="line">    pre = cur</span><br><span class="line">print(<span class="string">"%.2f"</span>%res)</span><br></pre></td></tr></table></figure>

<h5 id="378-有序矩阵中第K小的元素"><a href="#378-有序矩阵中第K小的元素" class="headerlink" title="**378. 有序矩阵中第K小的元素"></a>**<span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMva3RoLXNtYWxsZXN0LWVsZW1lbnQtaW4tYS1zb3J0ZWQtbWF0cml4Lw==" title="https://leetcode-cn.com/problems/kth-smallest-element-in-a-sorted-matrix/">378. 有序矩阵中第K小的元素<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kthSmallest</span><span class="params">(self, matrix: List[List[int]], k: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">getnums</span><span class="params">(mid,i,j)</span>:</span></span><br><span class="line">            count = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> i&gt;=<span class="number">0</span> <span class="keyword">and</span> j&lt;n:</span><br><span class="line">                <span class="keyword">if</span> matrix[i][j]&gt;mid:</span><br><span class="line">                    i -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    j += <span class="number">1</span></span><br><span class="line">                    <span class="comment"># 列的个数</span></span><br><span class="line">                    count += (i+<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line">        m,n = len(matrix),len(matrix[<span class="number">0</span>])</span><br><span class="line">        l,r = matrix[<span class="number">0</span>][<span class="number">0</span>],matrix[<span class="number">-1</span>][<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">while</span> l&lt;r:</span><br><span class="line">            mid = (l+r)&gt;&gt;<span class="number">1</span></span><br><span class="line">            <span class="comment"># 从右下角</span></span><br><span class="line">            count = getnums(mid,m<span class="number">-1</span>,<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> count&lt;k:</span><br><span class="line">                l = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                r = mid</span><br><span class="line">        <span class="keyword">return</span> l</span><br></pre></td></tr></table></figure>

<h5 id="编程题-二维表第k大数"><a href="#编程题-二维表第k大数" class="headerlink" title="[编程题]二维表第k大数"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL3F1ZXN0aW9uVGVybWluYWwvOTg5MjliZmU4ZjZiNGJlYmE1ODM4Mjg1YWU5OWFhNmY=" title="https://www.nowcoder.com/questionTerminal/98929bfe8f6b4beba5838285ae99aa6f">[编程题]二维表第k大数<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">n,m,k = map(int,input().split())</span><br><span class="line">l,r,k = <span class="number">1</span>,n*m,n*m-k+<span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_nums</span><span class="params">(mid,i,j)</span>:</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i&gt;<span class="number">0</span> <span class="keyword">and</span> j&lt;=n:</span><br><span class="line">        <span class="keyword">if</span> i*j&gt;mid:</span><br><span class="line">            i -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            count += i</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> count</span><br><span class="line"><span class="keyword">while</span> l&lt;r:</span><br><span class="line">    mid = (l+r)&gt;&gt;<span class="number">1</span></span><br><span class="line">    count = get_nums(mid,m,<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> count&lt;k:</span><br><span class="line">        l = mid + <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        r = mid</span><br><span class="line">print(l)</span><br></pre></td></tr></table></figure>

<h5 id="编程题-推荐结果打散"><a href="#编程题-推荐结果打散" class="headerlink" title="[编程题]推荐结果打散"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL3F1ZXN0aW9uVGVybWluYWwvMjM2YzIwYmRjYzcwNDVmNjllZTVmMWQwNmU2NzJhMTY/YW5zd2VyVHlwZT0xJmY9ZGlzY3Vzc2lvbg==" title="https://www.nowcoder.com/questionTerminal/236c20bdcc7045f69ee5f1d06e672a16?answerType=1&f=discussion">[编程题]推荐结果打散<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">N = int(input())</span><br><span class="line">M = int(input())</span><br><span class="line">res = []</span><br><span class="line"><span class="keyword">if</span> N==<span class="number">1</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(M):</span><br><span class="line">        res.append(input())</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    photo = []</span><br><span class="line">    count = N <span class="comment">##</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(M):</span><br><span class="line">        s = input()</span><br><span class="line">        <span class="keyword">if</span> s[<span class="number">0</span>]==<span class="string">'P'</span>:</span><br><span class="line">            photo.append(s)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="comment"># 当可以加入P时</span></span><br><span class="line">        <span class="keyword">if</span> count&gt;=N <span class="keyword">and</span> photo:</span><br><span class="line">            res.append(photo.pop(<span class="number">0</span>))</span><br><span class="line">            count = <span class="number">1</span></span><br><span class="line">        <span class="comment"># 对于V，直接加入或者提前加入</span></span><br><span class="line">        res.append(s)</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">    <span class="comment"># 剩余的P</span></span><br><span class="line">    <span class="keyword">if</span> count&gt;=N <span class="keyword">and</span> photo:</span><br><span class="line">        res.append(photo.pop(<span class="number">0</span>))</span><br><span class="line">print(len(res))</span><br><span class="line">print(<span class="string">"\n"</span>.join(res))</span><br></pre></td></tr></table></figure>

<h5 id="546-移除盒子"><a href="#546-移除盒子" class="headerlink" title="**546. 移除盒子"></a>**<span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvcmVtb3ZlLWJveGVzLw==" title="https://leetcode-cn.com/problems/remove-boxes/">546. 移除盒子<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeBoxes</span><span class="params">(self, boxes: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># 超时</span></span><br><span class="line">        <span class="comment"># from functools import lru_cache</span></span><br><span class="line">        <span class="comment"># @lru_cache(None)</span></span><br><span class="line">        <span class="comment"># def helper(boxes):</span></span><br><span class="line">        <span class="comment">#     if not boxes:</span></span><br><span class="line">        <span class="comment">#         return 0</span></span><br><span class="line">        <span class="comment">#     i = 0</span></span><br><span class="line">        <span class="comment">#     ans = 0</span></span><br><span class="line">        <span class="comment">#     while i&lt;len(boxes):</span></span><br><span class="line">        <span class="comment">#         j = i+1</span></span><br><span class="line">        <span class="comment">#         while j&lt;len(boxes) and boxes[i]==boxes[j]:</span></span><br><span class="line">        <span class="comment">#             j += 1</span></span><br><span class="line">        <span class="comment">#         ans = max(ans,(j-i)**2+helper(boxes[:i]+boxes[j:]))</span></span><br><span class="line">        <span class="comment">#         i = j</span></span><br><span class="line">        <span class="comment">#     return ans</span></span><br><span class="line">        <span class="comment"># return helper(tuple(boxes))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        n = len(boxes)</span><br><span class="line">        <span class="comment"># dp[i][j][k]表示在区间[i,j]之中选取最右点 最右边有k个相同的相连</span></span><br><span class="line">        dp = [[[<span class="number">0</span>]*n <span class="keyword">for</span> _ <span class="keyword">in</span> range(n)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n)]</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(l,r,k)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> l&gt;r: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> dp[l][r][k]!=<span class="number">0</span>: </span><br><span class="line">                <span class="keyword">return</span> dp[l][r][k]</span><br><span class="line">            <span class="comment"># 找到右边的最长相同情况m,为了跳过更多的步骤 eg: dp[1][5][2]==dp[1][4][3]</span></span><br><span class="line">            <span class="keyword">while</span> r&gt;l <span class="keyword">and</span> boxes[r<span class="number">-1</span>]==boxes[r]:</span><br><span class="line">                r -= <span class="number">1</span></span><br><span class="line">                k += <span class="number">1</span></span><br><span class="line">            dp[l][r][k] = (k+<span class="number">1</span>)**<span class="number">2</span> + helper(l,r<span class="number">-1</span>,<span class="number">0</span>)</span><br><span class="line">            <span class="comment"># 找到中间可能的跟r相同的情况,即取max(右边k种时,先删除中间不同部分，再取右边k种+中间相同的)</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(l,r):</span><br><span class="line">                <span class="keyword">if</span> boxes[i]==boxes[r]:</span><br><span class="line">                    dp[l][r][k] = max(dp[l][r][k],helper(l,i,k+<span class="number">1</span>)+helper(i+<span class="number">1</span>,r<span class="number">-1</span>,<span class="number">0</span>))</span><br><span class="line">            <span class="keyword">return</span> dp[l][r][k]</span><br><span class="line">        <span class="keyword">return</span> helper(<span class="number">0</span>,n<span class="number">-1</span>,<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h5 id="编程题-报数"><a href="#编程题-报数" class="headerlink" title="[编程题]报数"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL3F1ZXN0aW9uVGVybWluYWwvZGRmYzBmNjlkNDJlNDQ2ZTkzM2M3ZjYzOTExMWEwZjU/YW5zd2VyVHlwZT0xJmY9ZGlzY3Vzc2lvbg==" title="https://www.nowcoder.com/questionTerminal/ddfc0f69d42e446e933c7f639111a0f5?answerType=1&f=discussion">[编程题]报数<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(N,M)</span>:</span></span><br><span class="line">    nums = list(range(<span class="number">1</span>,N+<span class="number">1</span>))</span><br><span class="line">    res = []</span><br><span class="line">    count = <span class="number">1</span></span><br><span class="line">    idx = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> nums:</span><br><span class="line">        idx = idx%len(nums)</span><br><span class="line">        <span class="keyword">if</span> count%M==<span class="number">0</span>:</span><br><span class="line">            res.append(nums.pop(idx))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 只在没到M时才加1，当为M时,idx不变，但相当于在原来的list中加1了</span></span><br><span class="line">            idx += <span class="number">1</span></span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">    print(<span class="string">" "</span>.join(map(str,res)))</span><br><span class="line"></span><br><span class="line">N,M = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">solution(N,M)</span><br></pre></td></tr></table></figure>







<h5 id="剑指-Offer-09-用两个栈实现队列"><a href="#剑指-Offer-09-用两个栈实现队列" class="headerlink" title="剑指 Offer 09. 用两个栈实现队列"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMveW9uZy1saWFuZy1nZS16aGFuLXNoaS14aWFuLWR1aS1saWUtbGNvZi8=" title="https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/">剑指 Offer 09. 用两个栈实现队列<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CQueue</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.A,self.B = [],[]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">appendTail</span><span class="params">(self, value: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        self.A.append(value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteHead</span><span class="params">(self)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> self.B: <span class="keyword">return</span> self.B.pop()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.A: <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        <span class="keyword">while</span> self.A:</span><br><span class="line">            self.B.append(self.A.pop())</span><br><span class="line">        <span class="keyword">return</span> self.B.pop()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Your CQueue object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"># obj = CQueue()</span></span><br><span class="line"><span class="comment"># obj.appendTail(value)</span></span><br><span class="line"><span class="comment"># param_2 = obj.deleteHead()</span></span><br></pre></td></tr></table></figure>

<h5 id="225-用队列实现栈"><a href="#225-用队列实现栈" class="headerlink" title="225. 用队列实现栈"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvaW1wbGVtZW50LXN0YWNrLXVzaW5nLXF1ZXVlcy8=" title="https://leetcode-cn.com/problems/implement-stack-using-queues/">225. 用队列实现栈<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyStack</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Initialize your data structure here.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">        self.stack = deque()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(self, x: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Push element x onto stack.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.stack.append(x)</span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> range(len(self.stack)<span class="number">-1</span>):</span><br><span class="line">            self.stack.append(self.stack.popleft())</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self)</span> -&gt; int:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Removes the element on top of the stack and returns that element.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> self.stack.popleft()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">top</span><span class="params">(self)</span> -&gt; int:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Get the top element.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> self.stack[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">empty</span><span class="params">(self)</span> -&gt; bool:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Returns whether the stack is empty.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">not</span> self.stack</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Your MyStack object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"># obj = MyStack()</span></span><br><span class="line"><span class="comment"># obj.push(x)</span></span><br><span class="line"><span class="comment"># param_2 = obj.pop()</span></span><br><span class="line"><span class="comment"># param_3 = obj.top()</span></span><br><span class="line"><span class="comment"># param_4 = obj.empty()</span></span><br></pre></td></tr></table></figure>









<h1 id="字符匹配"><a href="#字符匹配" class="headerlink" title="字符匹配"></a>字符匹配</h1><h3 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h3><hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">strStr</span><span class="params">(self, haystack: str, needle: str)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># KMP</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> needle:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> len(needle)&gt;len(haystack):</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">getnext</span><span class="params">(needle)</span>:</span></span><br><span class="line">            next = [<span class="number">-1</span>]</span><br><span class="line">            j = <span class="number">0</span></span><br><span class="line">            k = <span class="number">-1</span></span><br><span class="line">            <span class="keyword">while</span> j&lt;len(needle)<span class="number">-1</span>:</span><br><span class="line">                <span class="keyword">if</span> k==<span class="number">-1</span> <span class="keyword">or</span> needle[j]==needle[k]:</span><br><span class="line">                    j += <span class="number">1</span></span><br><span class="line">                    k += <span class="number">1</span></span><br><span class="line">                    <span class="comment"># next.append(k)</span></span><br><span class="line">                    <span class="keyword">if</span> needle[j]!=needle[k]:</span><br><span class="line">                        next.append(k)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        next.append(next[k])</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    k = next[k]</span><br><span class="line">            <span class="keyword">return</span> next</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">KMP</span><span class="params">(haystack,needle)</span>:</span></span><br><span class="line">            next = getnext(needle)</span><br><span class="line">            i = <span class="number">0</span></span><br><span class="line">            j = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> i&lt;len(haystack) <span class="keyword">and</span> j&lt;len(needle):</span><br><span class="line">                <span class="keyword">if</span> j==<span class="number">-1</span> <span class="keyword">or</span> haystack[i]==needle[j]:</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                    j += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    j = next[j]</span><br><span class="line">            <span class="keyword">if</span> j==len(needle):</span><br><span class="line">                <span class="keyword">return</span> i-j</span><br><span class="line">            <span class="keyword">if</span> i==len(haystack):</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> KMP(haystack,needle)</span><br></pre></td></tr></table></figure>



<h3 id="Sunday"><a href="#Sunday" class="headerlink" title="Sunday"></a>Sunday</h3><hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">strStr</span><span class="params">(self, haystack: str, needle: str)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># Sunday</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> needle:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> len(needle)&gt;len(haystack):</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        <span class="comment"># 偏移表应该从右到左找第一个</span></span><br><span class="line">        dic = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i,v <span class="keyword">in</span> enumerate(needle):</span><br><span class="line">            dic[v] = i</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i&lt;=len(haystack)-len(needle):</span><br><span class="line">            found = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(needle)):</span><br><span class="line">                <span class="keyword">if</span> haystack[i+j]!=needle[j]:</span><br><span class="line">                    found = <span class="literal">False</span></span><br><span class="line">                    <span class="keyword">if</span> i+len(needle)&lt;len(haystack):</span><br><span class="line">                        <span class="keyword">if</span> haystack[i+len(needle)] <span class="keyword">not</span> <span class="keyword">in</span> needle:</span><br><span class="line">                            i += len(needle)+<span class="number">1</span></span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                            i += (len(needle)-dic[haystack[i+len(needle)]])</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> found:</span><br><span class="line">                <span class="keyword">return</span> i</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>



<h1 id="归并-分治思想"><a href="#归并-分治思想" class="headerlink" title="归并/分治思想"></a>归并/分治思想</h1><p><strong>逆序对计算的时候常考虑归并排序 或者连续序列</strong></p>
<p><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvc2h1LXp1LXpob25nLWRlLW5pLXh1LWR1aS1sY29mLw==" title="https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/">面试题51. 数组中的逆序对<i class="fa fa-external-link"></i></span></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reversePairs</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># # 暴力法O(N^2)超时</span></span><br><span class="line">        <span class="comment"># res = 0</span></span><br><span class="line">        <span class="comment"># n = len(nums)</span></span><br><span class="line">        <span class="comment"># for i in range(n):</span></span><br><span class="line">        <span class="comment">#     for j in range(i+1,n):</span></span><br><span class="line">        <span class="comment">#         if nums[j]&lt;nums[i]:</span></span><br><span class="line">        <span class="comment">#             res += 1</span></span><br><span class="line">        <span class="comment"># return res</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 分治思想:一个数组的逆序对数=左边数组的+右边数组的+跨数组的</span></span><br><span class="line">        <span class="comment"># 在归的时候统计两个数组内部的，合并的时候统计跨数组的</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">MergeSort</span><span class="params">(nums,left,right,temp)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> left&gt;=right: <span class="comment">#&gt;是为了防止nums为[]</span></span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            mid = (left+right)&gt;&gt;<span class="number">1</span></span><br><span class="line">            leftcount = MergeSort(nums,left,mid,temp)</span><br><span class="line">            rightcount = MergeSort(nums,mid+<span class="number">1</span>,right,temp)</span><br><span class="line">            <span class="comment"># 经过上面步骤，nums[left..mid]和nums[mid+1..right]已经有序</span></span><br><span class="line">            <span class="keyword">if</span> nums[mid]&lt;=nums[mid+<span class="number">1</span>]: <span class="comment">#如果已经有序了，则不存在跨数组的倒序对</span></span><br><span class="line">                <span class="keyword">return</span> leftcount+rightcount</span><br><span class="line">            crosscount = merge(nums,left,mid,right,temp)</span><br><span class="line">            <span class="keyword">return</span> leftcount+rightcount+crosscount</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(nums,left,mid,right,temp)</span>:</span></span><br><span class="line">            <span class="comment"># 临时数组保存左右两边的元素,nums类似保留归并的数组结果</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(left,right+<span class="number">1</span>):</span><br><span class="line">                temp[i] = nums[i]</span><br><span class="line">            i,j = left,mid+<span class="number">1</span> <span class="comment">#分别指向左右两个数组的前端</span></span><br><span class="line">            k = left <span class="comment">#指向nums</span></span><br><span class="line">            count = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> i&lt;=mid <span class="keyword">and</span> j&lt;=right:</span><br><span class="line">                <span class="keyword">if</span> temp[i]&lt;=temp[j]:</span><br><span class="line">                    nums[k] = temp[i]</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    nums[k] = temp[j]</span><br><span class="line">                    count += mid-i+<span class="number">1</span> <span class="comment">#为左边数组中大于j位置元素的个数</span></span><br><span class="line">                    j += <span class="number">1</span></span><br><span class="line">                k += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> i&lt;=mid: <span class="comment">#左边数组剩mid-i+1个元素</span></span><br><span class="line">                nums[k:k+mid-i+<span class="number">1</span>] = temp[i:mid+<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> j&lt;=right: <span class="comment">#右边数组剩right-j+1</span></span><br><span class="line">                nums[k:k+right-j+<span class="number">1</span>] = temp[j:right+<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">return</span> count</span><br><span class="line">        </span><br><span class="line">        temp = [<span class="number">0</span>]*(len(nums))</span><br><span class="line">        <span class="keyword">return</span> MergeSort(nums,<span class="number">0</span>,len(nums)<span class="number">-1</span>,temp)</span><br></pre></td></tr></table></figure>

<p><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvY291bnQtb2Ytc21hbGxlci1udW1iZXJzLWFmdGVyLXNlbGYv" title="https://leetcode-cn.com/problems/count-of-smaller-numbers-after-self/">315. 计算右侧小于当前元素的个数<i class="fa fa-external-link"></i></span></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countSmaller</span><span class="params">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">MergeSort</span><span class="params">(nums,left,right,temp,res,idx)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> left&gt;=right:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            mid = (left+right)&gt;&gt;<span class="number">1</span></span><br><span class="line">            MergeSort(nums,left,mid,temp,res,idx)</span><br><span class="line">            MergeSort(nums,mid+<span class="number">1</span>,right,temp,res,idx)</span><br><span class="line">            <span class="keyword">if</span> nums[idx[mid]]&lt;=nums[idx[mid+<span class="number">1</span>]]:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            merge(nums,left,mid,right,temp,res,idx)</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(nums,left,mid,right,temp,res,idx)</span>:</span></span><br><span class="line">            <span class="comment"># 每次更新下标值</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(left,right+<span class="number">1</span>):</span><br><span class="line">                temp[i] = idx[i] <span class="comment">#保存的是下标，因为可能在更新res时是对应下标，而比较的是元素值，且元素可能有重复，故不能直接用hash</span></span><br><span class="line">            k = left</span><br><span class="line">            i,j = left,mid+<span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> i&lt;=mid <span class="keyword">and</span> j&lt;=right:</span><br><span class="line">                <span class="keyword">if</span> nums[temp[i]]&lt;=nums[temp[j]]:</span><br><span class="line">                    idx[k] = temp[i]</span><br><span class="line">                    res[idx[k]] += j-mid<span class="number">-1</span> <span class="comment">#当左边的数取出时，则右边比i位置小的个数为j-mid-1</span></span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    idx[k] = temp[j]</span><br><span class="line">                    j += <span class="number">1</span></span><br><span class="line">                k += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> i&lt;=mid: <span class="comment">###########</span></span><br><span class="line">                end = k+mid-i+<span class="number">1</span></span><br><span class="line">                <span class="keyword">for</span> t <span class="keyword">in</span> range(k,end):</span><br><span class="line">                    idx[t] = temp[i]</span><br><span class="line">                    res[idx[t]] += j-mid<span class="number">-1</span></span><br><span class="line">                    i += <span class="number">1</span> </span><br><span class="line">            <span class="keyword">if</span> j&lt;=right:</span><br><span class="line">                idx[k:k+right-j+<span class="number">1</span>] = temp[j:right+<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        temp = [<span class="number">0</span>]*(len(nums))</span><br><span class="line">        res = [<span class="number">0</span>]*(len(nums))</span><br><span class="line">        idx = list(range(len(nums)))</span><br><span class="line">        MergeSort(nums,<span class="number">0</span>,len(nums)<span class="number">-1</span>,temp,res,idx)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<p><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbWF4aW11bS1zdWJhcnJheS8=" title="https://leetcode-cn.com/problems/maximum-subarray/">53. 最大子序和<i class="fa fa-external-link"></i></span></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxSubArray</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># # 动规</span></span><br><span class="line">        <span class="comment"># # dp[i] = max(dp[i-1]+a[i],a[i])</span></span><br><span class="line">        <span class="comment"># res = float('-inf')</span></span><br><span class="line">        <span class="comment"># cur = 0</span></span><br><span class="line">        <span class="comment"># for i in nums:</span></span><br><span class="line">        <span class="comment">#     # 选或者不选</span></span><br><span class="line">        <span class="comment">#     cur = max(cur+i,i)</span></span><br><span class="line">        <span class="comment">#     res = max(res,cur)</span></span><br><span class="line">        <span class="comment"># return res</span></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 分治，在分的时候判断组内，在合的时候判断组间</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">Merge</span><span class="params">(nums,left,right)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> left==right:</span><br><span class="line">                <span class="keyword">return</span> nums[left]</span><br><span class="line">            mid = (left+right)&gt;&gt;<span class="number">1</span></span><br><span class="line">            maxleft = Merge(nums,left,mid)</span><br><span class="line">            maxright = Merge(nums,mid+<span class="number">1</span>,right)</span><br><span class="line">            maxcross = merge(nums,left,mid,right)</span><br><span class="line">            <span class="keyword">return</span> max(maxleft,maxright,maxcross)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 从mid向两边扩散</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(nums,left,mid,right)</span>:</span></span><br><span class="line">            leftres,cur = float(<span class="string">'-inf'</span>),<span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(mid,left<span class="number">-1</span>,<span class="number">-1</span>): <span class="comment"># 包含mid时则不需要return时的判断</span></span><br><span class="line">            <span class="comment"># for i in range(mid-1,left-1,-1):</span></span><br><span class="line">                cur += nums[i]</span><br><span class="line">                leftres = max(cur,leftres)</span><br><span class="line">            rightres,cur = float(<span class="string">'-inf'</span>),<span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(mid+<span class="number">1</span>,right+<span class="number">1</span>):</span><br><span class="line">                cur += nums[i]</span><br><span class="line">                rightres = max(cur,rightres)</span><br><span class="line">            <span class="keyword">return</span> leftres+rightres</span><br><span class="line">            <span class="comment"># return max(nums[mid],leftres+nums[mid],nums[mid]+rightres,leftres+nums[mid]+rightres)</span></span><br><span class="line">        <span class="keyword">return</span> Merge(nums,<span class="number">0</span>,len(nums)<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>

<h5 id="23-合并K个排序链表"><a href="#23-合并K个排序链表" class="headerlink" title="23. 合并K个排序链表"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbWVyZ2Utay1zb3J0ZWQtbGlzdHMv" title="https://leetcode-cn.com/problems/merge-k-sorted-lists/">23. 合并K个排序链表<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeKLists</span><span class="params">(self, lists: List[ListNode])</span> -&gt; ListNode:</span></span><br><span class="line">        <span class="comment"># # 分治</span></span><br><span class="line">        <span class="comment"># def Merge(lists,left,right):</span></span><br><span class="line">        <span class="comment">#     if left&gt;right:</span></span><br><span class="line">        <span class="comment">#         return []</span></span><br><span class="line">        <span class="comment">#     if left==right:</span></span><br><span class="line">        <span class="comment">#         return lists[left]</span></span><br><span class="line">        <span class="comment">#     mid = (left+right)&gt;&gt;1</span></span><br><span class="line">        <span class="comment">#     l1 = Merge(lists,left,mid)</span></span><br><span class="line">        <span class="comment">#     l2 = Merge(lists,mid+1,right)</span></span><br><span class="line">        <span class="comment">#     ans = merge(l1,l2)</span></span><br><span class="line">        <span class="comment">#     return ans</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># def merge(l1,l2):</span></span><br><span class="line">        <span class="comment">#     head = ListNode(None)</span></span><br><span class="line">        <span class="comment">#     first = head</span></span><br><span class="line">        <span class="comment">#     while l1 and l2:</span></span><br><span class="line">        <span class="comment">#         if l1.val&lt;=l2.val:</span></span><br><span class="line">        <span class="comment">#             head.next = l1</span></span><br><span class="line">        <span class="comment">#             l1 = l1.next</span></span><br><span class="line">        <span class="comment">#         else:</span></span><br><span class="line">        <span class="comment">#             head.next = l2</span></span><br><span class="line">        <span class="comment">#             l2 = l2.next</span></span><br><span class="line">        <span class="comment">#         head = head.next</span></span><br><span class="line">        <span class="comment">#     if l1:</span></span><br><span class="line">        <span class="comment">#         head.next = l1</span></span><br><span class="line">        <span class="comment">#     if l2:</span></span><br><span class="line">        <span class="comment">#         head.next = l2</span></span><br><span class="line">        <span class="comment">#     return first.next</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># return Merge(lists,0,len(lists)-1)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 优先队列</span></span><br><span class="line">        <span class="keyword">import</span> heapq</span><br><span class="line">        head = ListNode(<span class="literal">None</span>)</span><br><span class="line">        first = head</span><br><span class="line">        queue = []</span><br><span class="line">        <span class="comment"># 先把每个有效链表的头节点排序加入</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(lists)):</span><br><span class="line">            <span class="keyword">if</span> lists[i]:</span><br><span class="line">                heapq.heappush(queue,(lists[i].val,i))</span><br><span class="line">                lists[i] = lists[i].next</span><br><span class="line">        <span class="comment"># 每次连接一个最小节点，再判断该最小结点的链表的下一节点排序加入</span></span><br><span class="line">        <span class="keyword">while</span> queue:</span><br><span class="line">            val,idx = heapq.heappop(queue)</span><br><span class="line">            head.next = ListNode(val)</span><br><span class="line">            head = head.next</span><br><span class="line">            <span class="keyword">if</span> lists[idx]:</span><br><span class="line">                heapq.heappush(queue,(lists[idx].val,idx))</span><br><span class="line">                lists[idx] = lists[idx].next</span><br><span class="line">        <span class="keyword">return</span> first.next</span><br></pre></td></tr></table></figure>



<h1 id="贪心思想"><a href="#贪心思想" class="headerlink" title="贪心思想"></a>贪心思想</h1><h5 id="605-种花问题"><a href="#605-种花问题" class="headerlink" title="605. 种花问题"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvY2FuLXBsYWNlLWZsb3dlcnMv" title="https://leetcode-cn.com/problems/can-place-flowers/">605. 种花问题<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canPlaceFlowers</span><span class="params">(self, flowerbed: List[int], n: int)</span> -&gt; bool:</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        flowerbed = [<span class="number">0</span>] + flowerbed + [<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(flowerbed)<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> flowerbed[i<span class="number">-1</span>]==<span class="number">1</span> <span class="keyword">or</span> flowerbed[i]==<span class="number">1</span> <span class="keyword">or</span> flowerbed[i+<span class="number">1</span>]==<span class="number">1</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="comment"># 只有当自身及左右均为0的时候才可以种植</span></span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            flowerbed[i] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> count&gt;=n</span><br></pre></td></tr></table></figure>



<h1 id="回溯"><a href="#回溯" class="headerlink" title="回溯"></a>回溯</h1><p>主要跟排列相关</p>
<h5 id="46-全排列"><a href="#46-全排列" class="headerlink" title="46. 全排列"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvcGVybXV0YXRpb25zLw==" title="https://leetcode-cn.com/problems/permutations/">46. 全排列<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">permute</span><span class="params">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class="line">        <span class="comment"># res = []</span></span><br><span class="line">        <span class="comment"># def helper(nums,path):</span></span><br><span class="line">        <span class="comment">#     if not nums:</span></span><br><span class="line">        <span class="comment">#         res.append(path)</span></span><br><span class="line">        <span class="comment">#         return</span></span><br><span class="line">        <span class="comment">#     for i in range(len(nums)):</span></span><br><span class="line">        <span class="comment">#         helper(nums[:i]+nums[i+1:],path+[nums[i]])</span></span><br><span class="line">        <span class="comment"># helper(nums,[])</span></span><br><span class="line">        <span class="comment"># return res</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        visited = set()</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(path)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> len(visited)==len(nums):</span><br><span class="line">                res.append(path)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">                <span class="keyword">if</span> j <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                    visited.add(j)</span><br><span class="line">                    helper(path+[nums[j]])</span><br><span class="line">                    visited.remove(j)</span><br><span class="line">        res = []</span><br><span class="line">        helper([])</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h5 id="47-全排列-II"><a href="#47-全排列-II" class="headerlink" title="*47. 全排列 II"></a>*<span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvcGVybXV0YXRpb25zLWlpLw==" title="https://leetcode-cn.com/problems/permutations-ii/">47. 全排列 II<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">permuteUnique</span><span class="params">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class="line">        res = []</span><br><span class="line">        nums.sort()</span><br><span class="line">        visited = set()</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(path)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> len(path)==len(nums):</span><br><span class="line">                res.append(path)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">                <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                    <span class="keyword">if</span> i&gt;<span class="number">0</span> <span class="keyword">and</span> nums[i]==nums[i<span class="number">-1</span>] <span class="keyword">and</span> i<span class="number">-1</span> <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                       <span class="keyword">continue</span></span><br><span class="line">                    visited.add(i)</span><br><span class="line">                    helper(path+[nums[i]])</span><br><span class="line">                    visited.remove(i)</span><br><span class="line">        helper([])</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h5 id="51-N皇后"><a href="#51-N皇后" class="headerlink" title="*51. N皇后"></a>*<span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbi1xdWVlbnMv" title="https://leetcode-cn.com/problems/n-queens/">51. N皇后<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">solveNQueens</span><span class="params">(self, n: int)</span> -&gt; List[List[str]]:</span></span><br><span class="line">        <span class="comment"># 即每次从行中选择列的位置去放置</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(row,matrix)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> row==n:</span><br><span class="line">                temp = [<span class="string">""</span>.join(matrix[i]) <span class="keyword">for</span> i <span class="keyword">in</span> range(n)]</span><br><span class="line">                res.append(temp)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">for</span> col <span class="keyword">in</span> range(n):</span><br><span class="line">                <span class="keyword">if</span> isvalid(row,col):</span><br><span class="line">                    matrix[row][col] = <span class="string">'Q'</span></span><br><span class="line">                    backtrack(row+<span class="number">1</span>,matrix)</span><br><span class="line">                    matrix[row][col] = <span class="string">'.'</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 行已经是合法的，且当前只有上方的行有值，故判断列上方，左上方向，右上方向</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">isvalid</span><span class="params">(row,col)</span>:</span></span><br><span class="line">            <span class="comment"># 列</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(row):</span><br><span class="line">                <span class="keyword">if</span> matrix[i][col]==<span class="string">'Q'</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="comment"># 左上</span></span><br><span class="line">            i,j = row<span class="number">-1</span>,col<span class="number">-1</span></span><br><span class="line">            <span class="keyword">while</span> i&gt;=<span class="number">0</span> <span class="keyword">and</span> j&gt;=<span class="number">0</span>:</span><br><span class="line">                <span class="keyword">if</span> matrix[i][j]==<span class="string">'Q'</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                i -= <span class="number">1</span></span><br><span class="line">                j -= <span class="number">1</span></span><br><span class="line">            <span class="comment"># 右上</span></span><br><span class="line">            i,j = row<span class="number">-1</span>,col+<span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> i&gt;=<span class="number">0</span> <span class="keyword">and</span> j&lt;n:</span><br><span class="line">                <span class="keyword">if</span> matrix[i][j]==<span class="string">'Q'</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                i -= <span class="number">1</span></span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        res = []</span><br><span class="line">        matrix = [[<span class="string">'.'</span>]*n <span class="keyword">for</span> _ <span class="keyword">in</span> range(n)]</span><br><span class="line">        backtrack(<span class="number">0</span>,matrix)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h1 id="排列组合"><a href="#排列组合" class="headerlink" title="排列组合"></a>排列组合</h1><h5 id="556-下一个更大元素-III"><a href="#556-下一个更大元素-III" class="headerlink" title="556. 下一个更大元素 III"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbmV4dC1ncmVhdGVyLWVsZW1lbnQtaWlpLw==" title="https://leetcode-cn.com/problems/next-greater-element-iii/">556. 下一个更大元素 III<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">nextGreaterElement</span><span class="params">(self, n: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># nums = list(map(int,str(n)))</span></span><br><span class="line">        <span class="comment"># # 找到最后一个不是降序的元素的下标i</span></span><br><span class="line">        <span class="comment"># i = len(nums)-2</span></span><br><span class="line">        <span class="comment"># while i&gt;=0:</span></span><br><span class="line">        <span class="comment">#     if nums[i]&lt;nums[i+1]:</span></span><br><span class="line">        <span class="comment">#         break</span></span><br><span class="line">        <span class="comment">#     i -= 1</span></span><br><span class="line">        <span class="comment"># # 没找到则返回-1</span></span><br><span class="line">        <span class="comment"># if i&lt;0:</span></span><br><span class="line">        <span class="comment">#     return -1</span></span><br><span class="line">        <span class="comment"># # 找到i之后下一个更大的元素的下标j</span></span><br><span class="line">        <span class="comment"># for j in range(len(nums)-1,i,-1):</span></span><br><span class="line">        <span class="comment">#     if nums[j]&gt;nums[i]:</span></span><br><span class="line">        <span class="comment">#         break</span></span><br><span class="line">        <span class="comment"># # 交换</span></span><br><span class="line">        <span class="comment"># nums[i],nums[j] = nums[j],nums[i]</span></span><br><span class="line">        <span class="comment"># # i之后的元素是单减的，要最小则逆序</span></span><br><span class="line">        <span class="comment"># nums[i+1:] = nums[i+1:][::-1]</span></span><br><span class="line">        <span class="comment"># res = "".join(map(str,nums))</span></span><br><span class="line">        <span class="comment"># return -1 if int(res)&gt;(1&lt;&lt;31)-1 else res</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 单调栈</span></span><br><span class="line">        nums = list(map(int,str(n)))</span><br><span class="line">        stack = [nums.pop()]</span><br><span class="line">        <span class="keyword">while</span> nums <span class="keyword">and</span> stack[<span class="number">-1</span>]&lt;=nums[<span class="number">-1</span>]:</span><br><span class="line">            stack.append(nums.pop())</span><br><span class="line">        <span class="comment"># 此时nums[-1]为之前方法的i的元素</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums: <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        i = len(nums)<span class="number">-1</span></span><br><span class="line">        <span class="comment"># 逐个交换，直到找到j</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(stack)):</span><br><span class="line">            <span class="keyword">if</span> stack[j] &gt; nums[<span class="number">-1</span>]:</span><br><span class="line">                stack[j], nums[<span class="number">-1</span>] = nums[<span class="number">-1</span>], stack[j]</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        nums += stack</span><br><span class="line">        res = <span class="string">""</span>.join(map(str,nums))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span> <span class="keyword">if</span> int(res)&gt;(<span class="number">1</span>&lt;&lt;<span class="number">31</span>)<span class="number">-1</span> <span class="keyword">else</span> res</span><br></pre></td></tr></table></figure>

<h5 id="31-下一个排列"><a href="#31-下一个排列" class="headerlink" title="31. 下一个排列"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbmV4dC1wZXJtdXRhdGlvbi8=" title="https://leetcode-cn.com/problems/next-permutation/">31. 下一个排列<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">nextPermutation</span><span class="params">(self, nums: List[int])</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Do not return anything, modify nums in-place instead.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># 从右往左找到第一个非升序的元素</span></span><br><span class="line">        i = len(nums)<span class="number">-2</span></span><br><span class="line">        <span class="keyword">while</span> i&gt;=<span class="number">0</span> <span class="keyword">and</span> nums[i]&gt;=nums[i+<span class="number">1</span>]:</span><br><span class="line">            i -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> i&lt;<span class="number">0</span>:</span><br><span class="line">            nums.sort()</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        j = i </span><br><span class="line">        <span class="comment"># 找到j右边最小的大于j位置元素的元素</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)<span class="number">-1</span>,j,<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> nums[i]&gt;nums[j]:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="comment"># swap</span></span><br><span class="line">        nums[i],nums[j] = nums[j],nums[i]</span><br><span class="line">        <span class="comment"># reverse</span></span><br><span class="line">        nums[j+<span class="number">1</span>:] = nums[j+<span class="number">1</span>:][::<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        stack = [nums.pop()]</span><br><span class="line">        <span class="keyword">while</span> nums <span class="keyword">and</span> stack[<span class="number">-1</span>]&lt;=nums[<span class="number">-1</span>]:</span><br><span class="line">            stack.append(nums.pop())</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            nums += stack</span><br><span class="line">            nums.sort()</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(stack)):</span><br><span class="line">            <span class="keyword">if</span> stack[j]&gt;nums[<span class="number">-1</span>]:</span><br><span class="line">                nums[<span class="number">-1</span>],stack[j] = stack[j],nums[<span class="number">-1</span>]</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        nums += stack</span><br></pre></td></tr></table></figure>









<h1 id="前缀和"><a href="#前缀和" class="headerlink" title="前缀和"></a>前缀和</h1><p>常见思路：利用前缀和+hashmap来优化时间复杂度，即在遍历的同时一边用hashmap保存相关值，一边查找hashmap中是否存在满足条件的值</p>
<p>一般场景：适用于连续子数组中，找到满足某种条件下的值</p>
<h5 id="560-和为K的子数组"><a href="#560-和为K的子数组" class="headerlink" title="560. 和为K的子数组"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvc3ViYXJyYXktc3VtLWVxdWFscy1rLw==" title="https://leetcode-cn.com/problems/subarray-sum-equals-k/">560. 和为K的子数组<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">subarraySum</span><span class="params">(self, nums: List[int], k: int)</span> -&gt; int:</span></span><br><span class="line">        hashmap = &#123;<span class="number">0</span>:<span class="number">1</span>&#125;</span><br><span class="line">        cursum,res = <span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">            cursum += nums[i]</span><br><span class="line">            <span class="comment"># f[j]-f[i]==k ==&gt; f[j]-k==f[i]</span></span><br><span class="line">            <span class="keyword">if</span> cursum-k <span class="keyword">in</span> hashmap:</span><br><span class="line">                res += hashmap[cursum-k]</span><br><span class="line">            hashmap[cursum] = hashmap.get(cursum,<span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h5 id="1248-统计「优美子数组」"><a href="#1248-统计「优美子数组」" class="headerlink" title="1248. 统计「优美子数组」"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvY291bnQtbnVtYmVyLW9mLW5pY2Utc3ViYXJyYXlzLw==" title="https://leetcode-cn.com/problems/count-number-of-nice-subarrays/">1248. 统计「优美子数组」<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numberOfSubarrays</span><span class="params">(self, nums: List[int], k: int)</span> -&gt; int:</span></span><br><span class="line">        hashmap = &#123;<span class="number">0</span>:<span class="number">1</span>&#125;</span><br><span class="line">        curcount,res = <span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">            curcount += (nums[i]&amp;<span class="number">1</span>)</span><br><span class="line">            <span class="comment"># f[j]-f[i]==k ==&gt; f[j]-k==f[i]</span></span><br><span class="line">            <span class="keyword">if</span> curcount-k <span class="keyword">in</span> hashmap:</span><br><span class="line">                res += hashmap[curcount-k]</span><br><span class="line">            hashmap[curcount] = hashmap.get(curcount,<span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">        <span class="comment"># # 统计奇数的下标</span></span><br><span class="line">        <span class="comment"># odd = []</span></span><br><span class="line">        <span class="comment"># for i,v in enumerate(nums):</span></span><br><span class="line">        <span class="comment">#     if v&amp;1:</span></span><br><span class="line">        <span class="comment">#         odd.append(i)</span></span><br><span class="line">        <span class="comment"># odd = [-1] + odd + [len(nums)]</span></span><br><span class="line">        <span class="comment"># res = 0</span></span><br><span class="line">        <span class="comment"># # 当恰好有k个奇数时，统计区间的偶数个数，进行排列组合</span></span><br><span class="line">        <span class="comment"># for i in range(1,len(odd)-k):</span></span><br><span class="line">        <span class="comment">#     res += (odd[i]-odd[i-1])*(odd[i+k]-odd[i+k-1])</span></span><br><span class="line">        <span class="comment"># return res</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># # 滑动窗口</span></span><br><span class="line">        <span class="comment"># l,r = 0,0</span></span><br><span class="line">        <span class="comment"># res,count = 0,0</span></span><br><span class="line">        <span class="comment"># while r&lt;len(nums):</span></span><br><span class="line">        <span class="comment">#     if nums[r]&amp;1:</span></span><br><span class="line">        <span class="comment">#         count += 1</span></span><br><span class="line">        <span class="comment">#     r += 1</span></span><br><span class="line">        <span class="comment">#     # 统计左右的偶数个数</span></span><br><span class="line">        <span class="comment">#     if count==k:</span></span><br><span class="line">        <span class="comment">#         ltemp,rtemp = 1,1</span></span><br><span class="line">        <span class="comment">#         while l&lt;r and nums[l]&amp;1==0:</span></span><br><span class="line">        <span class="comment">#             ltemp += 1</span></span><br><span class="line">        <span class="comment">#             l += 1</span></span><br><span class="line">        <span class="comment">#         r1 = r</span></span><br><span class="line">        <span class="comment">#         while r1&lt;len(nums) and nums[r1]&amp;1==0:</span></span><br><span class="line">        <span class="comment">#             rtemp += 1</span></span><br><span class="line">        <span class="comment">#             r1 += 1</span></span><br><span class="line">        <span class="comment">#         res += ltemp*rtemp</span></span><br><span class="line">        <span class="comment">#         l += 1</span></span><br><span class="line">        <span class="comment">#         count -= 1</span></span><br><span class="line">        <span class="comment"># return res</span></span><br></pre></td></tr></table></figure>

<h5 id="974-和可被-K-整除的子数组"><a href="#974-和可被-K-整除的子数组" class="headerlink" title="974. 和可被 K 整除的子数组"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvc3ViYXJyYXktc3Vtcy1kaXZpc2libGUtYnktay8=" title="https://leetcode-cn.com/problems/subarray-sums-divisible-by-k/">974. 和可被 K 整除的子数组<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">subarraysDivByK</span><span class="params">(self, A: List[int], K: int)</span> -&gt; int:</span></span><br><span class="line">        hashmap = &#123;<span class="number">0</span>:<span class="number">1</span>&#125;</span><br><span class="line">        curmod,res = <span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(A)):</span><br><span class="line">            curmod += A[i]</span><br><span class="line">            key = curmod%K</span><br><span class="line">            <span class="comment"># (f[j]-f[i])%K==0 ==&gt; f[j]%K==f[i]%K</span></span><br><span class="line">            <span class="keyword">if</span> key <span class="keyword">in</span> hashmap:</span><br><span class="line">                res += hashmap[key]</span><br><span class="line">            hashmap[key] = hashmap.get(key,<span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h5 id="454-四数相加-II"><a href="#454-四数相加-II" class="headerlink" title="454. 四数相加 II"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvNHN1bS1paS8=" title="https://leetcode-cn.com/problems/4sum-ii/">454. 四数相加 II<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fourSumCount</span><span class="params">(self, A: List[int], B: List[int], C: List[int], D: List[int])</span> -&gt; int:</span></span><br><span class="line">        hashmap_ab = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(A)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(B)):</span><br><span class="line">                sum_ab = A[i]+B[j]</span><br><span class="line">                hashmap_ab[sum_ab] = hashmap_ab.get(sum_ab,<span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(C)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(D)):</span><br><span class="line">                sum_cd = C[i]+D[j]</span><br><span class="line">                <span class="comment"># f1[i]+f2[j]==0 ==&gt; f2[j]==-f1[i]</span></span><br><span class="line">                <span class="keyword">if</span> -sum_cd <span class="keyword">in</span> hashmap_ab:</span><br><span class="line">                    res += hashmap_ab[-sum_cd]</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>





<h1 id="二分法"><a href="#二分法" class="headerlink" title="二分法"></a>二分法</h1><h5 id="34-在排序数组中查找元素的第一个和最后一个位置"><a href="#34-在排序数组中查找元素的第一个和最后一个位置" class="headerlink" title="34. 在排序数组中查找元素的第一个和最后一个位置"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvZmluZC1maXJzdC1hbmQtbGFzdC1wb3NpdGlvbi1vZi1lbGVtZW50LWluLXNvcnRlZC1hcnJheS8=" title="https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/">34. 在排序数组中查找元素的第一个和最后一个位置<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">searchRange</span><span class="params">(self, nums: List[int], target: int)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums: <span class="keyword">return</span> [<span class="number">-1</span>,<span class="number">-1</span>]</span><br><span class="line">        l,r = <span class="number">0</span>,len(nums)<span class="number">-1</span></span><br><span class="line">        <span class="keyword">while</span> l&lt;r:</span><br><span class="line">            mid = (l+r)&gt;&gt;<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> nums[mid]&lt;target:</span><br><span class="line">                l = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                r = mid</span><br><span class="line">        <span class="keyword">if</span> nums[l]!=target:</span><br><span class="line">            <span class="keyword">return</span> [<span class="number">-1</span>,<span class="number">-1</span>]</span><br><span class="line">        start = l</span><br><span class="line">        r = len(nums)<span class="number">-1</span></span><br><span class="line">        <span class="keyword">while</span> l&lt;r:</span><br><span class="line">            mid = (l+r+<span class="number">1</span>)&gt;&gt;<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> nums[mid]&gt;target:</span><br><span class="line">                r = mid<span class="number">-1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                l = mid</span><br><span class="line">        <span class="keyword">return</span> [start,l]</span><br></pre></td></tr></table></figure>

<h1 id="TOPK问题"><a href="#TOPK问题" class="headerlink" title="TOPK问题"></a>TOPK问题</h1><h3 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h3><hr>
<h3 id="快速选择法"><a href="#快速选择法" class="headerlink" title="快速选择法"></a>快速选择法</h3><hr>
<p>eg：第k大的数 <span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMva3RoLWxhcmdlc3QtZWxlbWVudC1pbi1hbi1hcnJheS8=" title="https://leetcode-cn.com/problems/kth-largest-element-in-an-array/">https://leetcode-cn.com/problems/kth-largest-element-in-an-array/<i class="fa fa-external-link"></i></span></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findKthLargest</span><span class="params">(self, nums: List[int], k: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># import heapq</span></span><br><span class="line">        <span class="comment"># nums = [-i for i in nums]</span></span><br><span class="line">        <span class="comment"># heapq.heapify(nums)</span></span><br><span class="line">        <span class="comment"># for i in range(k):</span></span><br><span class="line">        <span class="comment">#     res = heapq.heappop(nums)</span></span><br><span class="line">        <span class="comment"># return -res</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">partition</span><span class="params">(nums,left,right)</span>:</span></span><br><span class="line">            pivot = nums[left]</span><br><span class="line">            idx = left+<span class="number">1</span></span><br><span class="line">            i = idx</span><br><span class="line">            <span class="keyword">while</span> i&lt;=right:</span><br><span class="line">                <span class="keyword">if</span> nums[i]&lt;pivot:</span><br><span class="line">                    nums[i],nums[idx] = nums[idx],nums[i]</span><br><span class="line">                    idx += <span class="number">1</span></span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            nums[left],nums[idx<span class="number">-1</span>] = nums[idx<span class="number">-1</span>],pivot</span><br><span class="line">            <span class="keyword">return</span> idx<span class="number">-1</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">quickselect</span><span class="params">(nums,k,left,right)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> left&lt;right:</span><br><span class="line">                idx = partition(nums,left,right)</span><br><span class="line">                target = idx-left+<span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> k&lt;target:</span><br><span class="line">                    quickselect(nums,k,left,idx<span class="number">-1</span>)</span><br><span class="line">                <span class="keyword">elif</span> k&gt;target:</span><br><span class="line">                    quickselect(nums,k-target,idx+<span class="number">1</span>,right)</span><br><span class="line">        </span><br><span class="line">        quickselect(nums,len(nums)-k+<span class="number">1</span>,<span class="number">0</span>,len(nums)<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> nums[len(nums)-k]</span><br></pre></td></tr></table></figure>





<h1 id="数学"><a href="#数学" class="headerlink" title="数学"></a>数学</h1><p><span class="exturl" data-url="aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL3F1ZXN0aW9uVGVybWluYWwvN2Q5YTA2MTViM2MzNDhiM2JhY2Y4ZTc2ZjhiNzc5NmE/Zj1kaXNjdXNzaW9u" title="https://www.nowcoder.com/questionTerminal/7d9a0615b3c348b3bacf8e76f8b7796a?f=discussion">[编程题]质因数统计<i class="fa fa-external-link"></i></span></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line">n = int(input())</span><br><span class="line">dp = [<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n+<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>,n+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">2</span>,math.ceil(math.sqrt(i))+<span class="number">1</span>):</span><br><span class="line">        <span class="comment"># 非质数才更新，否则为1</span></span><br><span class="line">        <span class="keyword">if</span> i%j==<span class="number">0</span>:</span><br><span class="line">            dp[i] = dp[j] + dp[i//j]</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">print(sum(dp[<span class="number">2</span>:]))</span><br></pre></td></tr></table></figure>

<h3 id="斐波那契数列"><a href="#斐波那契数列" class="headerlink" title="斐波那契数列"></a>斐波那契数列</h3><p>矩阵分解的思路<br>$$<br>[f(n),f(n-1)]=[f(n-1),f(n-2)]<em>\begin{vmatrix}1&amp;1\1&amp;0\end{vmatrix}=[f(1),f(0)]</em>\begin{vmatrix}1&amp;1\1&amp;0\end{vmatrix}^{n-1}<br>$$<br>所以主要的时间优化在于矩阵求幂的时候采用快速幂</p>
<h5 id="509-斐波那契数"><a href="#509-斐波那契数" class="headerlink" title="509. 斐波那契数"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvZmlib25hY2NpLW51bWJlci8=" title="https://leetcode-cn.com/problems/fibonacci-number/">509. 斐波那契数<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(self, N: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># if N==0: return 0</span></span><br><span class="line">        <span class="comment"># if N==1: return 1</span></span><br><span class="line">        <span class="comment"># pre,cur = 0,1</span></span><br><span class="line">        <span class="comment"># for i in range(2,N+1):</span></span><br><span class="line">        <span class="comment">#     cur,pre = pre+cur,cur</span></span><br><span class="line">        <span class="comment"># return cur</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># O(logN)</span></span><br><span class="line">        <span class="keyword">if</span> N==<span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> N==<span class="number">1</span>: <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">matrixpower</span><span class="params">(matrix,N)</span>:</span></span><br><span class="line">            res = matrix</span><br><span class="line">            N -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> N:</span><br><span class="line">                <span class="keyword">if</span> N&amp;<span class="number">1</span>:</span><br><span class="line">                    res = matrixmul(res,matrix)</span><br><span class="line">                matrix = matrixmul(matrix,matrix)</span><br><span class="line">                N &gt;&gt;= <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">matrixmul</span><span class="params">(matrix1,matrix2)</span>:</span></span><br><span class="line">            m,p,n = len(matrix1),len(matrix2),len(matrix2[<span class="number">0</span>])</span><br><span class="line">            newmatrix = [[<span class="number">0</span>]*n <span class="keyword">for</span> _ <span class="keyword">in</span> range(m)]</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">                    <span class="keyword">for</span> k <span class="keyword">in</span> range(p):</span><br><span class="line">                        newmatrix[i][j] += matrix1[i][k]*matrix2[k][j]</span><br><span class="line">            <span class="keyword">return</span> newmatrix</span><br><span class="line"></span><br><span class="line">        matrix = [[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0</span>]]</span><br><span class="line">        matrix = matrixpower(matrix,N<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> matrixmul([[<span class="number">1</span>,<span class="number">0</span>]],matrix)[<span class="number">0</span>][<span class="number">0</span>]</span><br></pre></td></tr></table></figure>



<h3 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h3><hr>
<p>获取二进制中最右边的 1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x &amp; (-x) 可以获取到二进制中最右边的 1，且其它位设置为 0。</span><br><span class="line"></span><br><span class="line">即</span><br><span class="line">idx = 1</span><br><span class="line">while x&amp;idx==0:</span><br><span class="line">    idx&lt;&lt;=1</span><br></pre></td></tr></table></figure>

<p>去除二进制中最右边的 1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x &amp; (x - 1) 可以将最右边的 1 设置为 0。</span><br></pre></td></tr></table></figure>

<p>eg：检测是否为2的幂：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isPowerOfTwo</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="comment"># return n &amp; (-n) == n if n&gt;0 else False</span></span><br><span class="line">        <span class="keyword">return</span> n&amp;(n<span class="number">-1</span>)==<span class="number">0</span> <span class="keyword">if</span> n&gt;<span class="number">0</span> <span class="keyword">else</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p>eg：<span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvZXItamluLXpoaS16aG9uZy0xZGUtZ2Utc2h1LWxjb2Yv" title="https://leetcode-cn.com/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/">二进制中1的个数<i class="fa fa-external-link"></i></span></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hammingWeight</span><span class="params">(self, n: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># res = 0</span></span><br><span class="line">        <span class="comment"># while n&gt;0:</span></span><br><span class="line">        <span class="comment">#     res += (n&amp;1)</span></span><br><span class="line">        <span class="comment">#     n&gt;&gt;=1</span></span><br><span class="line">        <span class="comment"># return res</span></span><br><span class="line"></span><br><span class="line">		<span class="comment"># 更快，因为跳过连续的0</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> n&gt;<span class="number">0</span>:</span><br><span class="line">            res += <span class="number">1</span></span><br><span class="line">            n = n&amp;(n<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<p><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvYnUteW9uZy1qaWEtamlhbi1jaGVuZy1jaHUtenVvLWppYS1mYS1sY29mLw==" title="https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/">剑指 Offer 65. 不用加减乘除做加法<i class="fa fa-external-link"></i></span></p>
<blockquote>
<p>获取负数的补码： 需要将数字与十六进制数 0xffffffff 相与。可理解为舍去此数字 32位以上的数字，从无限长度变为一个 32 位整数。<br>返回前数字还原： 若补码 a 为负数（ 0x7fffffff 是最大的正数的补码 ），需执行 ~(a ^ x) 操作，将补码还原至 Python 的存储格式。 a ^ x 运算将 1至 32 位按位取反； ~ 运算是将整个数字取反；因此， ~(a ^ x) 是将 32 位以上的位取反，即由 0 变为 1 ， 1 至 32 位不变。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> (a^b)+((a&amp;b)&lt;&lt;<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    a &amp;= <span class="number">0xFFFFFFFF</span></span><br><span class="line">    b &amp;= <span class="number">0xFFFFFFFF</span></span><br><span class="line">    <span class="keyword">while</span> b!=<span class="number">0</span>:</span><br><span class="line">        a,b = a^b,(a&amp;b)&lt;&lt;<span class="number">1</span> &amp; <span class="number">0xFFFFFFFF</span></span><br><span class="line">    <span class="keyword">return</span> a <span class="keyword">if</span> a&lt;<span class="number">0x80000000</span> <span class="keyword">else</span> ~(a^<span class="number">0xffffffff</span>)</span><br></pre></td></tr></table></figure>

<p>eg：有一个数据列表（2N+1个整数），只有一个数出现了1次，其余N个数都出现了2次</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">任意数和自身异或结果为<span class="number">0</span>；<span class="number">0</span>和任意数异或结果还是其本身</span><br><span class="line"></span><br><span class="line"><span class="comment"># 交换</span></span><br><span class="line">a ^= b</span><br><span class="line">b ^= a</span><br><span class="line">a ^= b</span><br><span class="line"><span class="comment">###即 a,b=b,a</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#判断奇偶</span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">True</span> <span class="keyword">if</span> (x &amp; <span class="number">1</span>) <span class="keyword">else</span> <span class="literal">False</span> 最后为<span class="number">1</span>变为奇，为<span class="number">0</span>则为偶</span><br></pre></td></tr></table></figure>

<h5 id="190-颠倒二进制位"><a href="#190-颠倒二进制位" class="headerlink" title="190. 颠倒二进制位"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvcmV2ZXJzZS1iaXRzLw==" title="https://leetcode-cn.com/problems/reverse-bits/">190. 颠倒二进制位<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseBits</span><span class="params">(self, n: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># return int(bin(n)[2:].zfill(32)[::-1],2)</span></span><br><span class="line"></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        power = <span class="number">31</span></span><br><span class="line">        <span class="keyword">while</span> n:</span><br><span class="line">            res += (n&amp;<span class="number">1</span>)&lt;&lt;power</span><br><span class="line">            power -= <span class="number">1</span></span><br><span class="line">            n &gt;&gt;= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>





<h3 id="快速幂"><a href="#快速幂" class="headerlink" title="快速幂"></a>快速幂</h3><hr>
<p>eg: <span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvc2h1LXpoaS1kZS16aGVuZy1zaHUtY2ktZmFuZy1sY29mLw==" title="https://leetcode-cn.com/problems/shu-zhi-de-zheng-shu-ci-fang-lcof/">数值的整数次方<i class="fa fa-external-link"></i></span></p>
<p>即$x^n = x^{a_01+a_12+a_24+a_38+…+a_i2^i}$可以从二进制或二分法两个角度去解释</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">myPow</span><span class="params">(self, x: float, n: int)</span> -&gt; float:</span></span><br><span class="line">        <span class="comment"># if n&lt;0:</span></span><br><span class="line">        <span class="comment">#     x,n = 1/x,-n</span></span><br><span class="line">        <span class="comment"># res = 1</span></span><br><span class="line">        <span class="comment"># while n:</span></span><br><span class="line">        <span class="comment">#     if n&amp;1: #即n%2==1</span></span><br><span class="line">        <span class="comment">#         res *= x</span></span><br><span class="line">        <span class="comment">#     x *= x</span></span><br><span class="line">        <span class="comment">#     n &gt;&gt;= 1</span></span><br><span class="line">        <span class="comment"># return res</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 递归</span></span><br><span class="line">        <span class="keyword">if</span> n==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> n&lt;<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>/self.myPow(x,-n)</span><br><span class="line">        <span class="keyword">if</span> n%<span class="number">2</span>==<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> x*self.myPow(x,n<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.myPow(x*x,n//<span class="number">2</span>)</span><br></pre></td></tr></table></figure>



<h3 id="最大公约数"><a href="#最大公约数" class="headerlink" title="最大公约数"></a>最大公约数</h3><hr>
<p>辗转相除法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcd</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> b == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    <span class="keyword">return</span> gcd(b, a % b)</span><br></pre></td></tr></table></figure>

<h3 id="最小公倍数"><a href="#最小公倍数" class="headerlink" title="最小公倍数"></a>最小公倍数</h3><hr>
<p>最小公倍数等于两个数的乘积除以最大公约数:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">return</span> a*b//(gcd(a,b))</span><br></pre></td></tr></table></figure>

<h3 id="取数的位数"><a href="#取数的位数" class="headerlink" title="取数的位数"></a>取数的位数</h3><hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 循环</span></span><br><span class="line"><span class="comment"># %10 先模十，取出一位</span></span><br><span class="line"><span class="comment"># /10 再除以10，缩小十倍</span></span><br><span class="line"><span class="comment"># 数的倒序</span></span><br><span class="line">sign = <span class="number">-1</span> <span class="keyword">if</span> x&lt;<span class="number">0</span> <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line">x = abs(x)</span><br><span class="line">res = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> x!=<span class="number">0</span>:</span><br><span class="line">    res = res*<span class="number">10</span> + x%<span class="number">10</span> </span><br><span class="line">    x //= <span class="number">10</span></span><br><span class="line">res *= sign</span><br></pre></td></tr></table></figure>

<h3 id="约瑟夫环"><a href="#约瑟夫环" class="headerlink" title="约瑟夫环"></a>约瑟夫环</h3><hr>
<p>N个人编号为1，2，……，N，依次报数，每报到M时，杀掉那个人，求最后胜利者的编号</p>
<p>递推公式为$f(N,M)=(f(N-1,M)+M)%N$，即反推出最后胜利者在每一轮的编号位置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">res = <span class="number">0</span> <span class="comment">#胜利者在只剩一个人时的编号</span></span><br><span class="line"><span class="comment"># i是每一轮的人数</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n+<span class="number">1</span>):</span><br><span class="line">    res = (res+m)%i</span><br><span class="line"><span class="keyword">return</span> res <span class="comment">#最后的编号</span></span><br></pre></td></tr></table></figure>



<h3 id="数字-1-的个数"><a href="#数字-1-的个数" class="headerlink" title="数字 1 的个数"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbnVtYmVyLW9mLWRpZ2l0LW9uZS8=" title="https://leetcode-cn.com/problems/number-of-digit-one/">数字 1 的个数<i class="fa fa-external-link"></i></span></h3><hr>
<p>可以推出，对于数n，在每一位$10*i,i=1,10,100,…$(个十百千)的位置上，存在的个数分别为</p>
<p>$[n//(10<em>i)]</em>i+min(max(n%(10*i)-i+1,0),i)$</p>
<p>前一部分表示每($10<em>i$)个数中存在一次，每次有i个(如十位，每100出现一次，一次连着10个，即10,11,12,…19)；后一部分表示最后一个组当中剩下的数(即$n%(10</em>i)$)，若大于$i$，则看其在$i$与$i+i-1$之间有多少个数(n=117，则当按100分组时(即十位)，剩下17，可能在十位为1的数字在10-19之间，即110-117需额外加上)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countDigitOne</span><span class="params">(self, n: int)</span> -&gt; int:</span></span><br><span class="line">        nums = <span class="number">0</span></span><br><span class="line">        t = n</span><br><span class="line">        <span class="keyword">while</span> t:</span><br><span class="line">            nums += <span class="number">1</span></span><br><span class="line">            t //= <span class="number">10</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(nums):</span><br><span class="line">            i = <span class="number">10</span>**j</span><br><span class="line">            res += n//(<span class="number">10</span>*i)*i + min(max(n%(<span class="number">10</span>*i)-i+<span class="number">1</span>,<span class="number">0</span>),i)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h3 id="求解一元一次方程"><a href="#求解一元一次方程" class="headerlink" title="求解一元一次方程"></a>求解一元一次方程</h3><hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># eg:输入：2*x+3=x*3-1</span></span><br><span class="line">s = input().replace(<span class="string">'='</span>,<span class="string">'-('</span>) + <span class="string">')'</span></span><br><span class="line">y = eval(s,&#123;<span class="string">'X'</span>:<span class="number">1j</span>&#125;) <span class="comment">#把X替换为复数1j</span></span><br><span class="line">print(int(-y.real/y.imag))</span><br></pre></td></tr></table></figure>

<h5 id="150-逆波兰表达式求值"><a href="#150-逆波兰表达式求值" class="headerlink" title="150. 逆波兰表达式求值"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvZXZhbHVhdGUtcmV2ZXJzZS1wb2xpc2gtbm90YXRpb24v" title="https://leetcode-cn.com/problems/evaluate-reverse-polish-notation/">150. 逆波兰表达式求值<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">evalRPN</span><span class="params">(self, tokens: List[str])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># stack = []</span></span><br><span class="line">        <span class="comment"># for i in tokens:</span></span><br><span class="line">        <span class="comment">#     if i=='+':</span></span><br><span class="line">        <span class="comment">#         val = stack.pop()</span></span><br><span class="line">        <span class="comment">#         stack[-1] += val</span></span><br><span class="line">        <span class="comment">#         continue</span></span><br><span class="line">        <span class="comment">#     if i=='-':</span></span><br><span class="line">        <span class="comment">#         val = stack.pop()</span></span><br><span class="line">        <span class="comment">#         stack[-1] -= val</span></span><br><span class="line">        <span class="comment">#         continue</span></span><br><span class="line">        <span class="comment">#     if i=='/':</span></span><br><span class="line">        <span class="comment">#         val = stack.pop()</span></span><br><span class="line">        <span class="comment">#         stack[-1] = int(stack[-1]/val)</span></span><br><span class="line">        <span class="comment">#         continue</span></span><br><span class="line">        <span class="comment">#     if i=='*':</span></span><br><span class="line">        <span class="comment">#         val = stack.pop()</span></span><br><span class="line">        <span class="comment">#         stack[-1] *= val</span></span><br><span class="line">        <span class="comment">#         continue</span></span><br><span class="line">        <span class="comment">#     stack.append(int(i))</span></span><br><span class="line">        <span class="comment"># return stack.pop()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># stack = []</span></span><br><span class="line">        <span class="comment"># for i in tokens:</span></span><br><span class="line">        <span class="comment">#     if i in '+-*/':</span></span><br><span class="line">        <span class="comment">#         val = stack.pop()</span></span><br><span class="line">        <span class="comment">#         stack[-1] = str(int(eval(stack[-1]+i+val)))</span></span><br><span class="line">        <span class="comment">#         continue</span></span><br><span class="line">        <span class="comment">#     stack.append(i)</span></span><br><span class="line">        <span class="comment"># return int(stack.pop())</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        stack = []</span><br><span class="line">        dics = &#123;<span class="string">'+'</span>:<span class="keyword">lambda</span> x,y:x+y, <span class="string">'-'</span>:<span class="keyword">lambda</span> x,y:x-y, <span class="string">'*'</span>:<span class="keyword">lambda</span> x,y:x*y, <span class="string">'/'</span>:<span class="keyword">lambda</span> x,y:int(x/y)&#125;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> tokens:</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> <span class="string">'+-*/'</span>:</span><br><span class="line">                val = stack.pop()</span><br><span class="line">                stack[<span class="number">-1</span>] = dics[i](stack[<span class="number">-1</span>],val)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            stack.append(int(i))</span><br><span class="line">        <span class="keyword">return</span> stack.pop()</span><br></pre></td></tr></table></figure>



<h3 id="一些好题"><a href="#一些好题" class="headerlink" title="一些好题"></a>一些好题</h3><h5 id="887-鸡蛋掉落"><a href="#887-鸡蛋掉落" class="headerlink" title="887. 鸡蛋掉落"></a><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvc3VwZXItZWdnLWRyb3Av" title="https://leetcode-cn.com/problems/super-egg-drop/">887. 鸡蛋掉落<i class="fa fa-external-link"></i></span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">superEggDrop</span><span class="params">(self, K: int, N: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"><span class="meta">        @lru_cache(None)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dp</span><span class="params">(k,n)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> n==<span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> k==<span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> n</span><br><span class="line">            <span class="comment"># # 超时</span></span><br><span class="line">            <span class="comment"># # 若鸡蛋碎，则F在1...x-1层；若鸡蛋未碎，则F在x+1,...,n层</span></span><br><span class="line">            <span class="comment"># ans = float('inf')</span></span><br><span class="line">            <span class="comment"># for x in range(1,n+1):</span></span><br><span class="line">            <span class="comment">#     ans = min(ans,max(dp(k,n-x),dp(k-1,x-1))+1)</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># 二分</span></span><br><span class="line">            l,r = <span class="number">1</span>,n</span><br><span class="line">            ans = float(<span class="string">'inf'</span>)</span><br><span class="line">            <span class="keyword">while</span> l&lt;r:</span><br><span class="line">                mid = (l+r)&gt;&gt;<span class="number">1</span></span><br><span class="line">                notbroken = dp(k,n-mid) <span class="comment"># 单减</span></span><br><span class="line">                broken = dp(k<span class="number">-1</span>,mid<span class="number">-1</span>) <span class="comment"># 单增</span></span><br><span class="line">                <span class="keyword">if</span> notbroken&gt;broken:</span><br><span class="line">                    l = mid + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    r = mid </span><br><span class="line">            ans = min(ans,max(dp(k,n-l),dp(k<span class="number">-1</span>,l<span class="number">-1</span>))+<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> ans</span><br><span class="line">        <span class="keyword">return</span> dp(K,N)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">superEggDrop</span><span class="params">(self, K: int, N: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># # 超时 O(N^2K)</span></span><br><span class="line">        <span class="comment"># # dp[i][j]表示有i层楼j个鸡蛋在最坏情况下最少要扔的鸡蛋数</span></span><br><span class="line">        <span class="comment"># # dp[i][j] = min&#123;m1,m2,...,mi&#125;</span></span><br><span class="line">        <span class="comment"># # mk = max&#123;dp[k-1][j-1],dp[i-k][j]&#125; + 1 表明在第k层扔鸡蛋，如果碎了则在1~k-1层测试，还有j-1个蛋；如果没碎，则在k~i层测试，还有j个蛋</span></span><br><span class="line">        <span class="comment"># dp = [[0]*(K+1) for _ in range(N+1)]</span></span><br><span class="line">        <span class="comment"># for j in range(K+1):</span></span><br><span class="line">        <span class="comment">#     dp[1][j] = 1</span></span><br><span class="line">        <span class="comment"># for i in range(N+1):</span></span><br><span class="line">        <span class="comment">#     dp[i][1] = i</span></span><br><span class="line">        <span class="comment"># for i in range(2,N+1):</span></span><br><span class="line">        <span class="comment">#     for j in range(2,K+1):</span></span><br><span class="line">        <span class="comment">#         dp[i][j] = dp[i][j-1]</span></span><br><span class="line">        <span class="comment">#         for v in range(1,i+1):</span></span><br><span class="line">        <span class="comment">#             dp[i][j] = min(dp[i][j],max(dp[v-1][j-1],dp[i-v][j])+1)</span></span><br><span class="line">        <span class="comment"># return dp[-1][-1]</span></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># O(NK)</span></span><br><span class="line">        <span class="comment"># dp[i][j]表示用j个鸡蛋扔i次能够判断的最高楼层</span></span><br><span class="line">        <span class="comment"># dp[i][j] = dp[i-1][j-1] + dp[i-1][j] + 1 表明碎与不碎两种情况，即两个区间加起来再加本身即为可以判断的最大高度，即上一种方法的i</span></span><br><span class="line">        dp = [[<span class="number">0</span>]*(K+<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(N+<span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,N+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,K+<span class="number">1</span>):</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + dp[i<span class="number">-1</span>][j] + <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> dp[i][K]&gt;=N:</span><br><span class="line">                <span class="keyword">return</span> i</span><br></pre></td></tr></table></figure>

<p><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbWF4aW1hbC1zcXVhcmUv" title="https://leetcode-cn.com/problems/maximal-square/">221. 最大正方形<i class="fa fa-external-link"></i></span></p>
<p><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvY291bnQtc3F1YXJlLXN1Ym1hdHJpY2VzLXdpdGgtYWxsLW9uZXMv" title="https://leetcode-cn.com/problems/count-square-submatrices-with-all-ones/">1277. 统计全为 1 的正方形子矩阵<i class="fa fa-external-link"></i></span></p>

    </div>

    
    
    
      
  <div class="popular-posts-header">相关文章</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2020\09\08\求职-编程-字典树\" rel="bookmark">字典树</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2020\09\08\求职-编程-滑动窗口\" rel="bookmark">滑动窗口</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2020\09\08\求职-编程-单调栈\" rel="bookmark">单调栈</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2020\09\08\求职-编程-图\" rel="bookmark">图</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2020\09\08\求职-编程-树\" rel="bookmark">树</a></div>
    </li>
  </ul>
<div class="post-widgets">
      <div id="needsharebutton-postbottom">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    </div>
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>lumosity
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://lumosity4tpj.github.io/2020/09/08/%E6%B1%82%E8%81%8C-%E7%BC%96%E7%A8%8B-%E5%85%B6%E5%AE%83/" title="编程-其它">https://lumosity4tpj.github.io/2020/09/08/%E6%B1%82%E8%81%8C-%E7%BC%96%E7%A8%8B-%E5%85%B6%E5%AE%83/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC96aC1DTg=="><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/%E6%B1%82%E8%81%8C/" rel="tag"><i class="fa fa-tag"></i> 求职</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
                <a href="/2020/09/08/%E6%B1%82%E8%81%8C-%E7%BC%96%E7%A8%8B-%E5%AD%97%E5%85%B8%E6%A0%91/" rel="next" title="字典树">
                  <i class="fa fa-chevron-left"></i> 字典树
                </a>
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
            </div>
          </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    <div class="comments" id="gitalk-container"></div>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-5"><a class="nav-link" href="#11-盛最多水的容器"><span class="nav-number">1.</span> <span class="nav-text">11. 盛最多水的容器</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#子矩阵和相关"><span class="nav-number"></span> <span class="nav-text">*子矩阵和相关</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#363-矩形区域不超过-K-的最大数值和"><span class="nav-number">1.</span> <span class="nav-text">363. 矩形区域不超过 K 的最大数值和</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#面试题-17-24-最大子矩阵"><span class="nav-number">2.</span> <span class="nav-text">面试题 17.24. 最大子矩阵</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#440-字典序的第K小数字"><span class="nav-number">3.</span> <span class="nav-text">**440. 字典序的第K小数字</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#编程题-多多的电子字典"><span class="nav-number">4.</span> <span class="nav-text">[编程题]多多的电子字典</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#编程题-骰子期望"><span class="nav-number">5.</span> <span class="nav-text">[编程题]骰子期望</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#378-有序矩阵中第K小的元素"><span class="nav-number">6.</span> <span class="nav-text">**378. 有序矩阵中第K小的元素</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#编程题-二维表第k大数"><span class="nav-number">7.</span> <span class="nav-text">[编程题]二维表第k大数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#编程题-推荐结果打散"><span class="nav-number">8.</span> <span class="nav-text">[编程题]推荐结果打散</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#546-移除盒子"><span class="nav-number">9.</span> <span class="nav-text">**546. 移除盒子</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#编程题-报数"><span class="nav-number">10.</span> <span class="nav-text">[编程题]报数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#剑指-Offer-09-用两个栈实现队列"><span class="nav-number">11.</span> <span class="nav-text">剑指 Offer 09. 用两个栈实现队列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#225-用队列实现栈"><span class="nav-number">12.</span> <span class="nav-text">225. 用队列实现栈</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#字符匹配"><span class="nav-number"></span> <span class="nav-text">字符匹配</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#KMP"><span class="nav-number"></span> <span class="nav-text">KMP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sunday"><span class="nav-number"></span> <span class="nav-text">Sunday</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#归并-分治思想"><span class="nav-number"></span> <span class="nav-text">归并/分治思想</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#23-合并K个排序链表"><span class="nav-number">1.</span> <span class="nav-text">23. 合并K个排序链表</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#贪心思想"><span class="nav-number"></span> <span class="nav-text">贪心思想</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#605-种花问题"><span class="nav-number">1.</span> <span class="nav-text">605. 种花问题</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#回溯"><span class="nav-number"></span> <span class="nav-text">回溯</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#46-全排列"><span class="nav-number">1.</span> <span class="nav-text">46. 全排列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#47-全排列-II"><span class="nav-number">2.</span> <span class="nav-text">*47. 全排列 II</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#51-N皇后"><span class="nav-number">3.</span> <span class="nav-text">*51. N皇后</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#排列组合"><span class="nav-number"></span> <span class="nav-text">排列组合</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#556-下一个更大元素-III"><span class="nav-number">1.</span> <span class="nav-text">556. 下一个更大元素 III</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#31-下一个排列"><span class="nav-number">2.</span> <span class="nav-text">31. 下一个排列</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#前缀和"><span class="nav-number"></span> <span class="nav-text">前缀和</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#560-和为K的子数组"><span class="nav-number">1.</span> <span class="nav-text">560. 和为K的子数组</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1248-统计「优美子数组」"><span class="nav-number">2.</span> <span class="nav-text">1248. 统计「优美子数组」</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#974-和可被-K-整除的子数组"><span class="nav-number">3.</span> <span class="nav-text">974. 和可被 K 整除的子数组</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#454-四数相加-II"><span class="nav-number">4.</span> <span class="nav-text">454. 四数相加 II</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二分法"><span class="nav-number"></span> <span class="nav-text">二分法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#34-在排序数组中查找元素的第一个和最后一个位置"><span class="nav-number">1.</span> <span class="nav-text">34. 在排序数组中查找元素的第一个和最后一个位置</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TOPK问题"><span class="nav-number"></span> <span class="nav-text">TOPK问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#堆排序"><span class="nav-number"></span> <span class="nav-text">堆排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#快速选择法"><span class="nav-number"></span> <span class="nav-text">快速选择法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数学"><span class="nav-number"></span> <span class="nav-text">数学</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#斐波那契数列"><span class="nav-number"></span> <span class="nav-text">斐波那契数列</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#509-斐波那契数"><span class="nav-number">1.</span> <span class="nav-text">509. 斐波那契数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#位运算"><span class="nav-number"></span> <span class="nav-text">位运算</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#190-颠倒二进制位"><span class="nav-number">1.</span> <span class="nav-text">190. 颠倒二进制位</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#快速幂"><span class="nav-number"></span> <span class="nav-text">快速幂</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#最大公约数"><span class="nav-number"></span> <span class="nav-text">最大公约数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#最小公倍数"><span class="nav-number"></span> <span class="nav-text">最小公倍数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#取数的位数"><span class="nav-number"></span> <span class="nav-text">取数的位数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#约瑟夫环"><span class="nav-number"></span> <span class="nav-text">约瑟夫环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数字-1-的个数"><span class="nav-number"></span> <span class="nav-text">数字 1 的个数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#求解一元一次方程"><span class="nav-number"></span> <span class="nav-text">求解一元一次方程</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#150-逆波兰表达式求值"><span class="nav-number">1.</span> <span class="nav-text">150. 逆波兰表达式求值</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#一些好题"><span class="nav-number"></span> <span class="nav-text">一些好题</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#887-鸡蛋掉落"><span class="nav-number">1.</span> <span class="nav-text">887. 鸡蛋掉落</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="lumosity"
      src="/images/head.jpg">
  <p class="site-author-name" itemprop="name">lumosity</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2x1bW9zaXR5NHRwag==" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;lumosity4tpj"><i class="fa fa-fw fa-github"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOnRhbmdwZWlqdW40QG91dGxvb2suY29t" title="E-Mail → mailto:tangpeijun4@outlook.com"><i class="fa fa-fw fa-envelope"></i>E-Mail</span>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-moon-o"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lumosity</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">134k</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>



  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  <script src="/js/local-search.js"></script>








<script>
if (document.querySelectorAll('div.pdf').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/pdfobject@2/pdfobject.min.js', () => {
    document.querySelectorAll('div.pdf').forEach(element => {
      PDFObject.embed(element.getAttribute('target'), element, {
        pdfOpenParams: {
          navpanes: 0,
          toolbar: 0,
          statusbar: 0,
          pagemode: 'thumbs',
          view: 'FitH'
        },
        PDFJS_URL: '/lib/pdf/web/viewer.html',
        height: element.getAttribute('height') || '500px'
      });
    });
  }, window.PDFObject);
}
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme: 'forest',
      logLevel: 3,
      flowchart: { curve: 'linear' },
      gantt: { axisFormat: '%m/%d/%Y' },
      sequence: { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>



  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout: 3000,
        priority: true,
        ignores: [uri => uri.includes('#'),uri => uri == 'https://lumosity4tpj.github.io/2020/09/08/%E6%B1%82%E8%81%8C-%E7%BC%96%E7%A8%8B-%E5%85%B6%E5%AE%83/',]
      });
      });
  </script>
<!-- calendar widget -->

    <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-calendar/calendar.min.js"></script>
    <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-calendar/languages.min.js"></script>
    <script>
    $(function() {
        $('#CloudCalendar').aCalendar('zh-CN',
            $.extend(
                '', {
                    single:true,
                    root:'/calendar/'
                }
            )
        );
    });
    </script>


  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script>
  <script>
      pbOptions = {};
        pbOptions.iconStyle = "box";
        pbOptions.boxForm = "horizontal";
        pbOptions.position = "bottomCenter";
        pbOptions.networks = "Wechat,Weibo,QQZone,Douban,Twitter,Facebook,Mailto";
      new needShareButton('#needsharebutton-postbottom', pbOptions);
  </script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '8b56991ada74c93b8aea',
      clientSecret: '34cd47cbe96ac746de8d674ca01955d67b744152',
      repo: 'lumosity4tpj.github.io',
      owner: 'lumosity4tpj',
      admin: ['lumosity4tpj'],
      id: '92b659c88c8b1489c42d52f12cfae09f',
        language: '',
      distractionFreeMode: 'true'
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
</script>

</body>
</html>
